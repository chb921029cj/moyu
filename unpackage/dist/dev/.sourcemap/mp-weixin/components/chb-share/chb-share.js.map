{"version":3,"sources":["webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?b689","webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?a3e4","webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?f812","webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?dc84","uni-app:///components/chb-share/chb-share.vue","webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?8ea4","webpack:///D:/uniapp/魔域/components/chb-share/chb-share.vue?d5b1"],"names":[],"mappings":"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EA,2DAFA;AAGA,mFAHA;AAIA,+DAJA;AAKA;AACA;AACA,SAPA;AAQA;AACA;AACA;AACA,SAXA;;AAaA,KAjHA;AAkHA,aAlHA,qBAkHA,MAlHA,EAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA,OAbA;AAcA,KAlIA;AAmIA,kCAnIA,0CAmIA,QAnIA,EAmIA;AACA;AACA,sEADA,CACA;AACA;AACA;AACA,4BADA,EACA;AACA,sBAFA,EAEA;AACA,4BAHA,EAGA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eATA;AAUA;AACA;AACA,eAZA;;AAcA,WAnBA;AAoBA;AACA;AACA,WAtBA;;AAwBA,OA3BA;;AA6BA,KAjKA;AAkKA,YAlKA,sBAkKA;AACA,qBADA,GACA,MADA;AAEA;AACA,iCADA;;AAGA,+CALA;AAMA;AACA,uEADA;AAEA,gCAFA,GANA,SAMA,MANA;;AAUA,+DAVA,SAUA,MAVA;AAWA;AACA,wCADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,qEAFA;AAGA;AACA;AACA,gCADA;AAEA,gCAFA;AAGA,kCAHA;AAIA,8CAJA;AAKA;AACA,wCANA;AAOA,4CAPA,GADA,EAHA;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,gCAHA;AAIA,sCAJA;AAKA;AACA,gDANA,EARA;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,wDAFA;AAGA,gCAHA;AAIA,gCAJA;AAKA,8BALA;AAMA,qCANA,EAvCA,CAdA;;;AA8DA;AACA,+BADA;AAEA,kEAFA;AAGA,kCAHA;AAIA,0CAJA;AAKA,wDALA;;AAOA;AACA,+BADA;AAEA,iEAFA;AAGA,kCAHA;AAIA,wCAJA;AAKA,uCALA;AAMA,uDANA,EAPA;;AAeA;AACA,+BADA;AAEA,iEAFA;AAGA,kCAHA;AAIA,sCAJA;AAKA,2DALA,EAfA;;AAsBA;AACA,+BADA;AAEA,kEAFA;AAGA,kCAHA;AAIA,0CAJA;AAKA,0DALA,EAtBA;;AA6BA;AACA,+BADA;AAEA,kEAFA;AAGA,kCAHA;AAIA,0CAJA;AAKA,0DALA,EA7BA;;;AAqCA;AACA,+BADA;AAEA;AACA,4BAHA;AAIA,kCAJA;AAKA,wCALA;AAMA,0CANA;AAOA,sCAPA,EArCA;;AA8CA;AACA,+BADA;AAEA;AACA,4BAHA;AAIA,kCAJA;AAKA,0CALA;AAMA,2DANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtEA;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArMA;AAuMA;AACA;AACA,+BADA;AAEA,0DAFA;AAGA,gCAHA;AAIA,kCAJA;AAKA,uCALA;AAMA,0CANA;AAOA;AACA,2BADA,IACA,EADA,CAPA;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAlOA,CAkOA;AACA;AACA;AACA;;AAEA,mBA1OA;AA2OA,sBA3OA,gBA2OA,GA3OA,EA2OA;AACA;AACA;AACA,gCADA;;AAGA,mBAhPA;;AAkPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,uCAzRA;;;;;AA8RA,KAhcA;AAicA,WAjcA,qBAicA;;AAEA,KAncA;AAocA,gBApcA,wBAocA,UApcA,EAocA;AACA;AACA;AACA,8DADA,iCACA,MADA,YACA,QADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;AAGA,4BAHA;AAIA,iBAJA,qBAIA;AACA;AACA,WANA;AAOA,cAPA,kBAOA;AACA;AACA,WATA;;AAWA,OAlBA;AAmBA,KAzdA;AA0dA,YA1dA,EA0dA;;AAEA;AACA;AACA,iCAFA;AAGA,4DAHA,kCAGA,MAHA,YAGA,QAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,kEADA;AAEA,oBAFA;AAGA,0BAHA;AAIA;AACA;AACA,sEADA;AAEA;AACA;AACA,oBADA;AAEA;AACA,6BADA;;AAGA,aARA;AASA;AACA;AACA,aAXA;;AAaA;AACA,SAnBA;AAoBA;AACA;AACA,SAtBA;;AAwBA,KAjCA;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAnhBA;AAohBA,GAphBA,EAohBA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA;AACA;AACA;AACA;AACA,iCADA;AAEA,oBAFA;AAGA,iBAHA,qBAGA;AACA;AACA,gCADA;AAEA,4BAFA;;AAIA;AACA,WATA;;AAWA,OAhBA;AAiBA,UAjBA,gBAiBA,CAjBA,EAiBA;AACA;AACA;AACA;AACA;AACA;AACA,2DADA;AAEA;AACA;AACA;AACA;AACA,yBADA,mBACA,GADA,EACA;AACA;AACA,mBAHA;;AAKA,eAPA,MAOA;AACA;AACA,oCADA;AAEA,qCAFA;AAGA,uDAHA;AAIA;AACA;AACA;AACA,+BADA,mBACA,GADA,EACA;AACA;AACA,qCADA;;AAGA,yBALA;;AAOA,qBARA,MAQA;AACA;AACA;AACA,mBAhBA;;AAkBA;AACA,aA9BA;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAFA;AAGA,iBAHA,qBAGA;AACA;AACA;AACA,WANA;AAOA,kBAPA,oBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA,qBADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA,eANA;;AAQA,WAlBA;;AAoBA;AACA,OA7GA;;AA+GA,GAvoBA;AAwoBA,GAxoBA,EAwoBA;AACA;AACA,GA1oBA;AA2oBA,GA3oBA,EA2oBA;AACA;;AAEA;AACA;AACA,kCADA;AAEA;AACA;AACA;AACA;AACA,oCADA;AAEA,oBAFA;AAGA,iBAHA,qBAGA;AACA;AACA,gCADA;AAEA,4BAFA;;AAIA;AACA,WATA;;AAWA,OAhBA;AAiBA,UAjBA,gBAiBA,CAjBA,EAiBA;AACA;AACA;AACA;AACA;AACA;AACA,2DADA;AAEA;AACA;AACA;AACA;AACA,yBADA,mBACA,GADA,EACA;AACA;AACA,mBAHA;;AAKA,eAPA,MAOA;AACA;AACA,oCADA;AAEA,qCAFA;AAGA,uDAHA;AAIA;AACA;AACA;AACA,+BADA,mBACA,GADA,EACA;AACA;AACA,qCADA;AAEA,yBAJA;;AAMA,qBAPA,MAOA;AACA;AACA;AACA,mBAfA;;AAiBA;AACA,aA7BA;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA;AACA,oCADA;AAEA;AACA;AACA;AACA;AACA,mCADA;AAEA,sDAFA;AAGA,uCAHA;;AAKA;AACA,iBAXA;AAYA,wBAZA,oBAYA,GAZA,EAYA;AACA;AACA,iBAdA;;AAgBA,aArBA;;AAuBA;AACA;AACA;AACA;AACA;AACA,yCAFA;AAGA,iBAHA,qBAGA;AACA;AACA;AACA,WANA;AAOA,kBAPA,oBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA,qBADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA,eANA;;AAQA,WAlBA;;AAoBA;AACA,OA5GA;;AA8GA,GA7vBA;AA8vBA;AACA,oBADA,GACA;AACA,mCADA;AAEA,2BAFA,EADA;;;;AAOA,4CAPA,SAOA,MAPA;AAQA;AACA;AACA;AACA,+BADA;AAEA,8BAFA;;AAIA,eALA,MAKA;AACA;AACA,8CADA;AAEA,8BAFA;;AAIA,eAnBA;;;AAsBA;AACA,6BADA;AAEA,4BAFA;;AAIA;AA1BA;AA4BA,iCA5BA;AA6BA,GA3xBA,YA7FA;;AA03BA,SA13BA,qBA03BA;AACA;AACA;AACA,4BADA;AAEA,+BAFA;AAGA,gCAHA;AAIA;AACA,4BADA;AAEA,+BAFA;AAGA,8BAHA,EAJA;AAQA;AACA,4BADA;AAEA,+BAFA;AAGA,gCAHA,EARA;;AAaA;AACA;AACA,sBAjBA,GAiBA,wBAjBA;AAkBA,yCAlBA;AAmBA,oBAnBA,GAmBA;AACA,qCADA;AAEA,wCAFA;AAGA,yCAHA;AAIA,0BAJA,EAnBA;;AAyBA,4CAzBA,SAyBA,MAzBA;AA0BA;AACA,oBADA,EACA;;AAEA;AACA;AACA;AACA,eAhCA;;;;;AAqCA,GA/5BA,E;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAAosC,CAAgB,0nCAAG,EAAC,C;;;;;;;;;;;ACAxtC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/chb-share/chb-share.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./chb-share.vue?vue&type=template&id=5591c8e4&scoped=true&\"\nvar renderjs\nimport script from \"./chb-share.vue?vue&type=script&lang=js&\"\nexport * from \"./chb-share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chb-share.vue?vue&type=style&index=0&id=5591c8e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5591c8e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/chb-share/chb-share.vue\"\nexport default component.exports","export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chb-share.vue?vue&type=template&id=5591c8e4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chb-share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chb-share.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"chb-fab flex flex-direction align-center\">\r\n\t\t<view>\r\n\t\t\t<view v-for=\"(item, index) in content\" :key=\"index\"\r\n\t\t\t\tclass=\"chb-fab-item flex flex-direction align-center margin-bottom-xs\">\r\n\r\n\t\t\t\t<template v-if=\"item.icon==='forwardfill'\">\r\n\t\t\t\t\t<view class=\"chb-fab__item--content   bg-white   shadow flex flex-direction align-center\"\r\n\t\t\t\t\t\t:class=\"{'chb-fab__item--active':isShow}\">\r\n\t\t\t\t\t\t<button class=\"cu-btn cuIcon   bg-white  flex flex-direction margin-top-xs \" type=\"default\"\r\n\t\t\t\t\t\t\topen-type=\"share\">\r\n\t\t\t\t\t\t\t<text class=\"icon cuIcon-forwardfill text-red\"></text>\r\n\t\t\t\t\t\t\t<text class=\"name text-xs  text-black\" style=\"margin-top:10rpx\">{{ item.text }}</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<view v-else class=\"chb-fab__item--content bg-white  shadow flex flex-direction align-center\"\r\n\t\t\t\t\t:class=\"{'chb-fab__item--active':isShow}\" @click=\"onItemClick(index, item)\">\r\n\t\t\t\t\t<text class=\"text-red icon margin-top-xs\" :class=\"'cuIcon-' + item.icon\"> </text>\r\n\t\t\t\t\t<!-- <text class=\"name text-xs  text-white\" style=\"margin-top:10rpx\">{{ item.text }}</text> -->\r\n\t\t\t\t\t<text class=\"name text-xs\">{{ item.text }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- \t\t<view class=\"zixun   justify-around \">\r\n\t\t\t<view class=\"flex flex-direction align-center\" @click=\"handleHb\">\r\n\t\t\t\t<button class=\"cu-btn cuIcon shadow bg-white\">\r\n\t\t\t\t\t<text class=\"cuIcon-down text-black\"></text>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex flex-direction align-center marin-top \">\r\n\t\t\t\t<button class=\"cu-btn cuIcon shadow bg-white\" open-type=\"share\">\r\n\t\t\t\t\t<text class=\"cuIcon-forwardfill text-black\"></text>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\t\t<xlcanvas v-if=\"showCanvas\" :param=\"param\" @fail=\"fail\" @success=\"success\">\r\n\t\t</xlcanvas>\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='DialogModal1'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">删除商品</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t是否删除商品\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<button class=\"cu-btn line-green text-green\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn line-green text-green margin-left\" @tap=\"hideConfirm\">确定</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcollAdd,\r\n\t\tcollDelete,\r\n\t\tcollQuery,\r\n\t\tgetBarCode,\r\n\t\tUpdateObj,\r\n\t\tupdateList\r\n\t} from '@/api/user.js'\r\n\timport {\r\n\t\tgetUserInfo,\r\n\t\tgetToken\r\n\t} from '@/utils/auth.js'\r\n\timport xlcanvas from '../canvas/index.vue'\r\n\timport {\r\n\t\tposParam,\r\n\t} from './param.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\txlcanvas\r\n\t\t},\r\n\t\tonShareTimeline(res) {\r\n\t\t\tlet path = \"/pages/good/goodDetail?good=\" + encodeURIComponent(JSON.stringify(this.goods)) + '&share=1'\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '编号' + this.goods.vId + \" \" + this.goods.vMark1,\r\n\t\t\t\tpath,\r\n\t\t\t\timageUrl: this.goods.vHead,\r\n\t\t\t\tdesc: this.goods.vMark1,\r\n\t\t\t\t// content: this.share.content,\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '分享成功'\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail(res) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '分享失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\t\t\tlet path = \"/pages/good/goodDetail?good=\" + encodeURIComponent(JSON.stringify(this.goods)) + '&share=1'\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '编号' + this.goods.vId + \" \" + this.goods.vMark1,\r\n\t\t\t\tpath,\r\n\t\t\t\timageUrl: this.goods.vHead,\r\n\t\t\t\tdesc: this.goods.vMark1,\r\n\t\t\t\t// content: this.share.content,\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '分享成功'\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail(res) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '分享失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tsalesperson: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: []\r\n\t\t\t},\r\n\t\t\tsetting: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: {}\r\n\t\t\t},\r\n\t\t\tgoods: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tQrSrc: '',\r\n\t\t\t\tmsg: '测试',\r\n\t\t\t\tshowCanvas: false,\r\n\t\t\t\tisZixun: false,\r\n\t\t\t\tisShare: false,\r\n\t\t\t\tcanvasImg: null,\r\n\t\t\t\ttitle: 'Hello',\r\n\t\t\t\tisReady: false,\r\n\t\t\t\theight: 1334,\r\n\t\t\t\tparam: {},\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tisActive: false,\r\n\t\t\t\tmodalName: '',\r\n\t\t\t\tcontent: [{\r\n\t\t\t\t\t\ttext: '分享',\r\n\t\t\t\t\t\tactive: false,\r\n\t\t\t\t\t\ticon: 'forwardfill',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '点赞',\r\n\t\t\t\t\t\tactive: false,\r\n\t\t\t\t\t\ticon: 'like',\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '下载',\r\n\t\t\t\t\t\tactive: false,\r\n\t\t\t\t\t\ticon: 'down',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tisShow: true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeTab(e) {\r\n\t\t\t\tthis.currentCard = e.detail.current;\r\n\t\t\t},\r\n\t\t\tasync onItemClick(index, item) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tif (item.icon === 'like') {\r\n\t\t\t\t\tlet userInfo = getUserInfo()\r\n\t\t\t\t\tif (userInfo && userInfo.openId) {\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\tvId: _this.goods.vId,\r\n\t\t\t\t\t\t\tvOpenId: userInfo.openId,\r\n\t\t\t\t\t\t\tvGoodsId: _this.goods.id,\r\n\t\t\t\t\t\t\tnStates: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tawait collAdd(params)\r\n\t\t\t\t\t\tthis.content[1].icon = 'likefill'\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请登录',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (item.icon === 'likefill') {\r\n\t\t\t\t\tlet userInfo = getUserInfo()\r\n\t\t\t\t\tif (userInfo && userInfo.openId) {\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\tvId: _this.goods.vId,\r\n\t\t\t\t\t\t\tvOpenId: userInfo.openId,\r\n\t\t\t\t\t\t\tvGoodsId: _this.goods.id,\r\n\t\t\t\t\t\t\tnStates: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tawait collDelete(params)\r\n\t\t\t\t\t\tthis.content[1].icon = 'like'\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (item.icon === 'down') {\r\n\t\t\t\t\tthis.handleHb()\r\n\t\t\t\t} else if (item.icon === 'repeal') {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tid: this.goods.id,\r\n\t\t\t\t\t\tnStates: 1,\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\tlet result = await UpdateObj(params)\r\n\t\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\t\tif (result && result.code === \"000000\") {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '下架成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '下架失败 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '下架失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (item.icon === 'edit') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/form/index?good=' + encodeURIComponent(JSON.stringify(this.goods))\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (item.icon === 'delete') {\r\n\t\t\t\t\tthis.modalName = 'DialogModal1'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_onClick() {\r\n\t\t\t\tthis.isShows = !this.isShows\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isShow = !this.isShow\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideModal() {\r\n\t\t\t\tthis.modalName = \"\"\r\n\t\t\t},\r\n\t\t\thandleCopy() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: this.salesperson[this.currentCard].weixin,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '微信号已复制',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandlePhone() {\r\n\t\t\t\tuni.addPhoneContact({\r\n\t\t\t\t\tnickName: this.salesperson[this.currentCard].label,\r\n\t\t\t\t\tfirstName: this.salesperson[this.currentCard].label,\r\n\t\t\t\t\tmobilePhoneNumber: this.salesperson[this.currentCard].telePhone.phoneNumber,\r\n\t\t\t\t\tweChatNumber: this.salesperson[this.currentCard].weixin,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\tconsole.log('fail');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetBase64(buffer) {\r\n\t\t\t\tlet file = new Blob([buffer])\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\tlet imgResult = \"\";\r\n\t\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\t\treader.onload = function() {\r\n\t\t\t\t\t\timgResult = reader.result;\r\n\t\t\t\t\t};\r\n\t\t\t\t\treader.onerror = function(error) {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t};\r\n\t\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\t\tresolve(imgResult);\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsaveImageToPhotosAlbummaskData(maskData, FILE_BASE_NAME = 'tmp_base64src') {\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tlet base64 = maskData.replace(/^data:image\\/\\w+;BASE64,/, \"\"); //去掉data:image/png;base64,\r\n\t\t\t\t\tlet filePath = wx.env.USER_DATA_PATH + `/hym_pay${FILE_BASE_NAME}_qrcode.png`;\r\n\t\t\t\t\tuni.getFileSystemManager().writeFile({\r\n\t\t\t\t\t\tfilePath: filePath, //创建一个临时文件名\r\n\t\t\t\t\t\tdata: base64, //写入的文本或二进制数据\r\n\t\t\t\t\t\tencoding: 'base64', //写入当前文件的字符编码\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\t\tsuccess: function(res2) {\r\n\t\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t\t// \ttitle: '保存成功，请从相册选择再分享',\r\n\t\t\t\t\t\t\t\t\t// \ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\t// \tduration: 5000\r\n\t\t\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\t\tresolve(filePath)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\t// console.log(err.errMsg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t//console.log(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tasync handleHb() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '生成中...'\r\n\t\t\t\t});\r\n\t\t\t\tthis.param = posParam;\r\n\t\t\t\tlet result = await getBarCode({\r\n\t\t\t\t\tpath: 'pages/good/goodDetail?id=' + this.goods.id,\r\n\t\t\t\t\twidth: '200'\r\n\t\t\t\t})\r\n\t\t\t\tlet imgsrc = await this.saveImageToPhotosAlbummaskData(result)\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: _this.goods.vHead,\r\n\t\t\t\t\tsuccess: function(image) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconsole.log(image.width);\r\n\t\t\t\t\t\t\tconsole.log(image.height);\r\n\t\t\t\t\t\t\tlet rem = image.height / image.width\r\n\t\t\t\t\t\t\tlet len = 0\r\n\t\t\t\t\t\t\tif (_this.goods.vMark1) {\r\n\t\t\t\t\t\t\t\tlen = Math.ceil(_this.goods.vMark1.length / 27)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.param = {\r\n\t\t\t\t\t\t\t\twidth: 375,\r\n\t\t\t\t\t\t\t\theight: 355 * rem + 5 + 30 * (len + 2) + 150,\r\n\t\t\t\t\t\t\t\tpaths: {\r\n\t\t\t\t\t\t\t\t\trect: [{\r\n\t\t\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\t\t\tw: 375,\r\n\t\t\t\t\t\t\t\t\t\th: 355 * rem + 250,\r\n\t\t\t\t\t\t\t\t\t\t// r: 12,\r\n\t\t\t\t\t\t\t\t\t\ttype: \"fill\",\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#ffffff\"\r\n\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpics: [\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 0,\r\n\t\t\t\t\t\t\t\t\t// \ty: 0,\r\n\t\t\t\t\t\t\t\t\t// \tw: 355,\r\n\t\t\t\t\t\t\t\t\t// \th: 285,\r\n\t\t\t\t\t\t\t\t\t// \tsrc: \"https://chblive.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210904104536.jpg\"\r\n\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 20,\r\n\t\t\t\t\t\t\t\t\t\tw: 355,\r\n\t\t\t\t\t\t\t\t\t\th: 355 * rem,\r\n\t\t\t\t\t\t\t\t\t\t// preload: true,\r\n\t\t\t\t\t\t\t\t\t\tsrc: _this.goods.vHead\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 0,\r\n\t\t\t\t\t\t\t\t\t// \ty: 355 * rem + 100,\r\n\t\t\t\t\t\t\t\t\t// \tw: 375,\r\n\t\t\t\t\t\t\t\t\t// \th: 364,\r\n\t\t\t\t\t\t\t\t\t// \tsrc: 'https://chblive.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210904102722.jpg'\r\n\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 117.5 - 30,\r\n\t\t\t\t\t\t\t\t\t// \ty: 355 * rem + 150,\r\n\t\t\t\t\t\t\t\t\t// \tw: 200,\r\n\t\t\t\t\t\t\t\t\t// \th: 200,\r\n\t\t\t\t\t\t\t\t\t// \tr: 70,\r\n\t\t\t\t\t\t\t\t\t// \tsrc:  _this.goods.vId\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 117.5 - 30,\r\n\t\t\t\t\t\t\t\t\t// \ty: 355 * rem + 150,\r\n\t\t\t\t\t\t\t\t\t// \tw: 200,\r\n\t\t\t\t\t\t\t\t\t// \th: 200,\r\n\t\t\t\t\t\t\t\t\t// \tr: 70,\r\n\t\t\t\t\t\t\t\t\t// \tsrc: _this.QrSrc\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 235 - 20,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 30 * (len + 1),\r\n\t\t\t\t\t\t\t\t\t\tw: 140,\r\n\t\t\t\t\t\t\t\t\t\th: 140,\r\n\t\t\t\t\t\t\t\t\t\tr: 0,\r\n\t\t\t\t\t\t\t\t\t\tsrc: imgsrc\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\ttexts: [{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 1) - 16,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"区服:\" + _this.goods.vQuF\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 1) + 5,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tweight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#000\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"编号:\" + _this.goods.vId\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 2) - 5,\r\n\t\t\t\t\t\t\t\t\t\tfont: 16,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"red\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"价格:\" + _this.goods.nPriceN\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 2) + 20,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"神火:\" + _this.goods.nShenH\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 2) + 40,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"秒伤:\" + _this.goods.nMiaoS\r\n\t\t\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 2) +\r\n\t\t\t\t\t\t\t\t\t\t\t60,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tweight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"剑心代售\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\t\ty: 355 * rem + 15 + 30 * (len + 2) +\r\n\t\t\t\t\t\t\t\t\t\t\t80,\r\n\t\t\t\t\t\t\t\t\t\tfont: 12,\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"微信号：sun898975 / sun898976\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 270,\r\n\t\t\t\t\t\t\t\t\t// \ty: 355 * rem + 15 + 30 * (len + 1) + 100 ,\r\n\t\t\t\t\t\t\t\t\t// \twidth: 80,\r\n\t\t\t\t\t\t\t\t\t// \tfont: 10,\r\n\t\t\t\t\t\t\t\t\t// \tcolor: \"#333\",\r\n\t\t\t\t\t\t\t\t\t// \talign: 'center',\r\n\t\t\t\t\t\t\t\t\t// \ttext: \"长按识别二维码\"\r\n\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \tx: 280,\r\n\t\t\t\t\t\t\t\t\t// \ty: 355 * rem + 15 + 30 * (len + 1) + 75,\r\n\t\t\t\t\t\t\t\t\t// \tfont: 6,\r\n\t\t\t\t\t\t\t\t\t// \talign: \"center\",\r\n\t\t\t\t\t\t\t\t\t// \tcolor: \"#333\",\r\n\t\t\t\t\t\t\t\t\t// \ttext: \"查看全部精彩照片\"\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t// texts: [{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +60,\r\n\t\t\t\t\t\t\t\t// \t\tw: 160,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 20,\r\n\t\t\t\t\t\t\t\t// \t\t// align: \"center\",\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"black\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: _this.Title,\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +90,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 12,\r\n\t\t\t\t\t\t\t\t// \t\tweight:'bold',\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#000\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"年度最佳口碑商户\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +120,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 12,\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#000\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"小众品牌专属定制\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty:355 *rem +180,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 12,\r\n\t\t\t\t\t\t\t\t// \t\tweight:'bold',\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"名匠摄影推荐给您\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +200,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 12,\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"电话：0370——5888680/18639058707\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 10,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +220,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 12,\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"地址：亿丰广场西门三楼名匠摄影\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 270,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +200,\r\n\t\t\t\t\t\t\t\t// \t\twidth:80,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 10,\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#333\",\r\n\t\t\t\t\t\t\t\t// \t\talign:'center',\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"长按识别二维码\"\r\n\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t// \t{\r\n\t\t\t\t\t\t\t\t// \t\tx: 265,\r\n\t\t\t\t\t\t\t\t// \t\ty: 355 *rem +215,\r\n\t\t\t\t\t\t\t\t// \t\tfont: 10,\r\n\t\t\t\t\t\t\t\t// \t\t     align: \"center\",\r\n\t\t\t\t\t\t\t\t// \t\tcolor: \"#333\",\r\n\t\t\t\t\t\t\t\t// \t\ttext: \"查看全部精彩照片\"\r\n\t\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t\t// ]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\t\t\t\t_this.param.texts.push({\r\n\t\t\t\t\t\t\t\t\tx: 10,\r\n\t\t\t\t\t\t\t\t\ty: 355 * rem + 10 + 30 * (i + 1),\r\n\t\t\t\t\t\t\t\t\tw: 375,\r\n\t\t\t\t\t\t\t\t\tfont: 13,\r\n\t\t\t\t\t\t\t\t\talign: \"left\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"#8799a3\",\r\n\t\t\t\t\t\t\t\t\ttext: _this.goods.vMark1.slice(i * 27, (i +\r\n\t\t\t\t\t\t\t\t\t\t1) * 27),\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this.isReady = true;\r\n\r\n\t\t\t\t\t\t\t_this.showCanvas = true\r\n\t\t\t\t\t\t\tconsole.log(2222222)\r\n\t\t\t\t\t\t\t// uni.showLoading({\r\n\t\t\t\t\t\t\t// \ttitle: '图片生成中',\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\t\t\tconsole.log('err', e)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t_this.msg = JSON.stringify(err)\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: err,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// \tuni.request({\r\n\t\t\t\t// \t\turl: 'http://gbt.free.idcfengye.com/wxmoyu/token/getBarCode?path=page/index/index&width=400',\r\n\t\t\t\t// \t\tmethod: 'get',\r\n\t\t\t\t// \t\theader: {\r\n\t\t\t\t// \t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t// \t\t\ttoken: uni.getStorageSync(\"TOKEN\")\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tdata: {},\r\n\t\t\t\t// \t\tsuccess: res => {\r\n\t\t\t\t// \t\t\tconsole.log(res);\r\n\t\t\t\t// \t\t\tthis.$emit('imgsrc', 'data:image/jpeg;base64,' + res.data)\r\n\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tfail: () => {},\r\n\t\t\t\t// \t\tcomplete: () => {}\r\n\t\t\t\t// \t});\r\n\r\n\t\t\t\t// let base64 = this.getBase64(result)\r\n\t\t\t\t// let imgsrc = await this.base64ToSave('data:image/png;base64,' + result)\r\n\t\t\t\t// //把arraybuffer转成base64\r\n\t\t\t\t//           let base64 = wx.arrayBufferToBase64(result); \r\n\r\n\t\t\t\t//           //不加上这串字符，在页面无法显示的哦\r\n\t\t\t\t//           base64　= 'data:image/jpeg;base64,' + base64　\r\n\r\n\t\t\t\t//           //打印出base64字符串，可复制到网页校验一下是否是你选择的原图片呢\r\n\t\t\t\t//           console.log(base64)\r\n\r\n\t\t\t\tthis.imgsrc = result\r\n\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\r\n\t\t\t},\r\n\t\t\tbase64ToSave(base64data, FILE_BASE_NAME = 'tmp_base64src') {\r\n\t\t\t\tconst fsm = uni.getFileSystemManager();\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst [, format, bodyData] = /data:image\\/(\\w+);base64,(.*)/.exec(base64data) || [];\r\n\t\t\t\t\tif (!format) {\r\n\t\t\t\t\t\treject(new Error('ERROR_BASE64SRC_PARSE'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.${format}`;\r\n\t\t\t\t\tconst buffer = wx.base64ToArrayBuffer(bodyData);\r\n\t\t\t\t\tfsm.writeFile({\r\n\t\t\t\t\t\tfilePath,\r\n\t\t\t\t\t\tdata: buffer,\r\n\t\t\t\t\t\tencoding: 'binary',\r\n\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\tresolve(filePath);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\treject(new Error('ERROR_BASE64SRC_WRITE'));\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbase64ToSave(base64data, FILE_BASE_NAME = 'tmp_base64src') {\r\n\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tvar save = wx.getFileSystemManager();\r\n\t\t\t\t\tvar number = Math.random();\r\n\t\t\t\t\tconst [, format, bodyData] = /data:image\\/(\\w+);base64,(.*)/.exec(base64data) || [];\r\n\t\t\t\t\tif (!format) {\r\n\t\t\t\t\t\treject(new Error('ERROR_BASE64SRC_PARSE'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.${format}`;\r\n\t\t\t\t\tconst buffer = wx.base64ToArrayBuffer(bodyData);\r\n\t\t\t\t\tsave.writeFile({\r\n\t\t\t\t\t\tfilePath: wx.env.USER_DATA_PATH + '/pic' + number + '.png',\r\n\t\t\t\t\t\tdata: buffer,\r\n\t\t\t\t\t\tencoding: 'binary',\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\twx.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\tfilePath: wx.env.USER_DATA_PATH + '/pic' + number + '.png',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tresolve(wx.env.USER_DATA_PATH + '/pic' + number +\r\n\t\t\t\t\t\t\t\t\t\t'.png');\r\n\t\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// const fsm = uni.getFileSystemManager();\r\n\t\t\t\t// return new Promise((resolve, reject) => {\r\n\t\t\t\t// \tconst [, format, bodyData] = /data:image\\/(\\w+);base64,(.*)/.exec(base64data) || [];\r\n\t\t\t\t// \tif (!format) {\r\n\t\t\t\t// \t\treject(new Error('ERROR_BASE64SRC_PARSE'));\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tconst filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.${format}`;\r\n\t\t\t\t// \tconst buffer = wx.base64ToArrayBuffer(bodyData);\r\n\t\t\t\t// \tfsm.writeFile({\r\n\t\t\t\t// \t\tfilePath,\r\n\t\t\t\t// \t\tdata: buffer,\r\n\t\t\t\t// \t\tencoding: 'binary',\r\n\t\t\t\t// \t\tsuccess() {\r\n\t\t\t\t// \t\t\tresolve(filePath);\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tfail() {\r\n\t\t\t\t// \t\t\treject(new Error('ERROR_BASE64SRC_WRITE'));\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t});\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\thandleSuccess(e) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tthis.canvasImg = e.tempFilePath\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: _this.canvasImg,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tconsole.log('save success');\r\n\t\t\t\t\t\t// 预览图片\r\n\t\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\t\turls: [_this.canvasImg],\r\n\t\t\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '海报已经保存到相册',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t_this.showCanvas = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(222222222222)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t/* 授权提示 ，这里就是重复提示用户去授权*/\r\n\t\t\t\t\t\tfunction opensit() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: '由于您还没有允许保存图片到您相册里,这无法进行分享操作点击确定去允许授权',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t/* 这个就是打开设置的API*/\r\n\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.authSetting);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: '依然取消',\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmText: '重新授权',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '很遗憾你点击了取消，这将无法进行分享操作，请慎重考虑',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户不授权');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/* 特别注意要先获取图片信息在进行保存，不让保存不了 */\r\n\t\t\t\t\t\t// function img() {\r\n\t\t\t\t\t\t// \t/* 我这里要保存多张图片，一张的话就可以取消这些，具体看你的需求 */\r\n\t\t\t\t\t\t// \tif (num > len) {\r\n\t\t\t\t\t\t// \t\treturn false;\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \t/* 获取图片信息 */\r\n\t\t\t\t\t\t// \tuni.getImageInfo({\r\n\t\t\t\t\t\t// \t\tsrc: obj[num],\r\n\t\t\t\t\t\t// \t\tsuccess: function(image) {\r\n\t\t\t\t\t\t// \t\t\tconsole.log(image);\r\n\t\t\t\t\t\t// \t\t\t/* 保存图片到相册 */\r\n\t\t\t\t\t\t// \t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t// \t\t\t\tfilePath: image.path,\r\n\t\t\t\t\t\t// \t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t// \t\t\t\t\tconsole.log('save success');\r\n\t\t\t\t\t\t// \t\t\t\t\tif (num == len) {\r\n\t\t\t\t\t\t// \t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t// \t\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\t// \t\t\t\t\t\t\tcontent: '图片已成功保存到相册，快去分享到您的圈子吧',\r\n\t\t\t\t\t\t// \t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t// \t\t\t\t\t\t});\r\n\t\t\t\t\t\t// \t\t\t\t\t}\r\n\t\t\t\t\t\t// \t\t\t\t},\r\n\t\t\t\t\t\t// \t\t\t\tcomplete(res) {\r\n\t\t\t\t\t\t// \t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t// \t\t\t\t}\r\n\t\t\t\t\t\t// \t\t\t});\r\n\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t// \t});\r\n\t\t\t\t\t\t// \tnum++;\r\n\t\t\t\t\t\t// \timg();\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t/* 这个就是保存相册的 */\r\n\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t/* 保存图片方法 */\r\n\t\t\t\t\t\t\t\timg();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t/* 这里判断一下如果没有授权重新打开设置选项 */\r\n\t\t\t\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* 打开设置的方法 */\r\n\t\t\t\t\t\t\t\t\t\t\topensit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfail(e) {\r\n\t\t\t\tconsole.log(\"合成失败：\", e);\r\n\t\t\t},\r\n\t\t\tsuccess(e) {\r\n\t\t\t\tlet _this = this\r\n\r\n\t\t\t\tthis.path = e.res.tempFilePath;\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: e.res.tempFilePath,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tconsole.log('save success');\r\n\t\t\t\t\t\t// 预览图片\r\n\t\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\t\turls: [e.res.tempFilePath],\r\n\t\t\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '海报已经保存到相册',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t_this.showCanvas = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(222222222222)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t/* 授权提示 ，这里就是重复提示用户去授权*/\r\n\t\t\t\t\t\tfunction opensit() {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: '由于您还没有允许保存图片到您相册里,这无法进行分享操作点击确定去允许授权',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t/* 这个就是打开设置的API*/\r\n\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.authSetting);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: '依然取消',\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmText: '重新授权',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '很遗憾你点击了取消，这将无法进行分享操作，请慎重考虑',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户不授权');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/* 特别注意要先获取图片信息在进行保存，不让保存不了 */\r\n\t\t\t\t\t\tfunction img() {\r\n\t\t\t\t\t\t\t/* 我这里要保存多张图片，一张的话就可以取消这些，具体看你的需求 */\r\n\t\t\t\t\t\t\tif (num > len) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* 获取图片信息 */\r\n\t\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\t\tsrc: obj[num],\r\n\t\t\t\t\t\t\t\tsuccess: function(image) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(image);\r\n\t\t\t\t\t\t\t\t\t/* 保存图片到相册 */\r\n\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\t\t\tfilePath: image.path,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('save success');\r\n\t\t\t\t\t\t\t\t\t\t\tif (num == len) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '图片已成功保存到相册，快去分享到您的圈子吧',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcomplete(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t\timg();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t/* 这个就是保存相册的 */\r\n\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t/* 保存图片方法 */\r\n\t\t\t\t\t\t\t\timg();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t/* 这里判断一下如果没有授权重新打开设置选项 */\r\n\t\t\t\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* 打开设置的方法 */\r\n\t\t\t\t\t\t\t\t\t\t\topensit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync hideConfirm() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tid: this.goods.id,\r\n\t\t\t\t\tnStates: 99,\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tlet result = await UpdateObj(params)\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tif (result && result.code === \"000000\") {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除失败 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '删除失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideModal()\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\tif (this.$store.getters.sessionId) {\r\n\t\t\t\tthis.content.push({\r\n\t\t\t\t\ttext: '下架',\r\n\t\t\t\t\tactive: false,\r\n\t\t\t\t\ticon: 'repeal',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '修改',\r\n\t\t\t\t\tactive: false,\r\n\t\t\t\t\ticon: 'edit',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: '删除',\r\n\t\t\t\t\tactive: false,\r\n\t\t\t\t\ticon: 'delete',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// this.getCode()\r\n\t\t\tlet userInfo = getUserInfo()\r\n\t\t\tif (userInfo && userInfo.openId) {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tvId: this.goods.vId,\r\n\t\t\t\t\tvOpenId: userInfo.openId,\r\n\t\t\t\t\tvGoodsId: this.goods.id,\r\n\t\t\t\t\tnStates: 1\r\n\t\t\t\t}\r\n\t\t\t\tlet result = await collQuery(params)\r\n\t\t\t\tif (result && result.code === '000000' && result.data && result.data.records && result.data.records\r\n\t\t\t\t\t.length) {\r\n\r\n\t\t\t\t\tthis.isActive = true\r\n\t\t\t\t\tthis.content[1].icon = 'likefill'\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.chb-fab {\r\n\t\tposition: fixed;\r\n\t\tright: 10rpx;\r\n\t\tbottom: 210rpx;\r\n\t\tz-index: 999;\r\n\r\n\t\t.chb-fab-item {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\r\n\t\t\t.icon {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// .chb-fab__item {\r\n\t\t// \topacity: 0;\r\n\t\t// \ttransition: all 0.3s;\r\n\t\t// \twidth: 0;\r\n\t\t// \theight: 0;\r\n\t\t// }\r\n\r\n\r\n\r\n\t\t.chb-fab__close {\r\n\t\t\tz-index: 999;\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t\ttransition: transform 0.3s;\r\n\t\t}\r\n\r\n\t\t.chb-fab__close--active {\r\n\t\t\ttransform: rotate(270deg);\r\n\r\n\t\t\t.cuIcon-close {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.chb-fab__item--content {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 50%;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\tanimation: change 5s;\r\n\t\t\topacity: 0;\r\n\t\t\ttransition: all 0.3s;\r\n\t\t\twidth: 0;\r\n\t\t\theight: 0;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\r\n\t\t.chb-fab__item--active {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\topacity: 1;\r\n\t\t\tz-index: 999;\r\n\t\t}\r\n\r\n\t\t.weixin {\r\n\t\t\t.swiper-item {\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 300rpx;\r\n\t\t\t\t\theight: 300rpx;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.cu-btn {\r\n\t\t\tborder: none;\r\n\t\t\tbackground: #fff;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chb-share.vue?vue&type=style&index=0&id=5591c8e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chb-share.vue?vue&type=style&index=0&id=5591c8e4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663604988604\n      var cssReload = require(\"D:/程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}