{"version":3,"sources":["webpack:///D:/uniapp/魔域/components/canvas/index.vue?db39","webpack:///D:/uniapp/魔域/components/canvas/index.vue?ea9c","webpack:///D:/uniapp/魔域/components/canvas/index.vue?4f7b","webpack:///D:/uniapp/魔域/components/canvas/index.vue?bf8b","uni-app:///components/canvas/index.vue","webpack:///D:/uniapp/魔域/components/canvas/index.vue?0d76","webpack:///D:/uniapp/魔域/components/canvas/index.vue?048b"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACYroB,yH;AACA;gBACA;AACA,kBADA;AAEA;AACA;AACA;AACA,kBADA;AAEA;AACA;AACA,oBADA,EACA;AACA,sBAFA,EAEA;AACA,kBAHA,EAGA;AACA,mBAJA,EAIA;AACA,mBALA,EAKA;AACA,yBANA,EAMA;AACA,oBAPA,CAOA;AAPA;AASA,OAZA,EAFA,EAFA;;;AAmBA,MAnBA,kBAmBA;AACA;AACA,oBADA;AAEA,4BAFA;AAGA,gBAHA,EAGA;AACA,kBAJA,CAIA;AAJA;AAMA,GA1BA;AA2BA,gBA3BA;;AA6BA,WA7BA;;AA+BA;AACA;AACA;AACA,UAHA,oBAGA,EAHA,EA/BA;;AAoCA,SApCA,qBAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA;AACA,4BAHA;AAIA,wBAJA,EAIA;AACA,wBALA,EAKA;AACA,0BANA,EAMA;AACA,4BAPA,EAOA;AACA,8BARA,EAQA;AACA,8BATA;AAUA,QAVA;AAWA,iBAXA;AAYA,2BAZA;AAaA,sBAbA;;;;AAiBA,QAjBA,CAiBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,kBAFA;;AAIA;AACA;AACA;AACA;AACA,uBADA;AAEA,gBAFA;;AAIA;AACA,KAjCA;AAkCA;AACA;AACA,GA7FA,E;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAk6B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAt7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/canvas/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=17a54696&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=17a54696&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17a54696\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/canvas/index.vue\"\nexport default component.exports","export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=17a54696&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n<!--画布-->\n<canvas \n\tv-if=\"isReady\" \n\tclass='myCanvas' \n\t:canvas-id='canvasId' \n\t:style=\"'width:'+width+'px;height:'+height+'px;'\">\n</canvas> \n<!--画布-->\n</template>\n\n<script>\nimport CanvasPosterSprite from '../dist/uni-canvas-poster-sprite.js'\n// import CanvasPosterSprite from 'canvas-poster-sprite/dist/uni-canvas-poster-sprite.js'\nexport default {\n\tname : 'xlcanvas',\t\n\tprops : {\n\t\t//合成海报参数为参数param\n\t\tparam : {\n\t\t  type : Object,\n\t\t  default : function(){\n\t\t\t  return {\n\t\t\t\twidth : 900,//画布宽度\n\t\t\t\theight : 1280,//画布高度\n\t\t\t\tpics : [],//图片资源\n\t\t\t\tpaths : {},//路径\n\t\t\t\ttexts : [],//文本\n\t\t\t\tfileType : \"jpg\",//保存文件类型\n\t\t\t\tquality : 1,//保存文件质量\n\t\t\t  }\n\t\t  }\n\t\t}\n\t},\n    data() {\n    \treturn {\n\t\t\tisReady : false,\n\t\t\tcanvasId : 'myCanvasId',\n\t\t\twidth : 900,//海报宽度\n\t\t\theight : 1280,//海报高度\n    \t}\n    },\n\tcomponents:{\n\t},\n    watch: {\n\t},\n    methods: {\n\t\t//fix: Property or method \"toJSON\" is not defined\n\t\t//https://ask.dcloud.net.cn/question/73642\n\t\ttoJSON(){},\n    },\n    mounted() { \n      var self = this;\n      var id = Math.random().toString(16).substr(2);\n      var canvasId = 'myCanvasId_'+id;\n      var param = self.param;\n\t  self.canvasId = canvasId;\n\t  self.width = param.width;\n\t  self.height = param.height;\n\t  self.isReady = true;\n\t  \n\t  let pixelRatio = 3;\n\t  let isAndroid = true;\n\t  if(isAndroid){\n\t\t  //android设备，分辨率减低一半，以换取合成速率\n\t\t  //测试结果：分辨率：3     合成时间：15s多\n\t\t  //        分辨率：1.5   合成时间：4.5s多\n\t\t  //        分辨率：1     合成时间：2.5s多\n\t\t  pixelRatio *= 0.5;\n\t  }\n\t  // setTimeout(()=>{\n\t\t  //生成海报\n\t\t  new CanvasPosterSprite({\n\t\t\tself : self,\n\t\t\t// appPlus : true,\n\t\t\tpixelRatio : pixelRatio,\n\t\t\tcanvasId: canvasId,//画布宽度id\n\t\t\twidth: param.width,//画布宽度\n\t\t\theight: param.height,//画布高度\n\t\t\tpics: param.pics || [],//图片资源\n\t\t\ttexts: param.texts || [],//文本\n\t\t\tpaths : param.paths || {},//路径\n\t\t\tself: self,//当前组件实例\n\t\t\tbgColor: param.bgColor,\n\t\t\tfileType: param.fileType || \"jpg\",\n\t\t\tquality : param.quality || 1,\n\t\t\t// // 也可以是：传参回调的方式，返回结果\n\t\t\t// callback:function(err, res){\n\t\t\t// }\n\t\t  }).then((err, res)=>{\n\t\t\t  console.log(\"合成结果:\",err, res);\n\t\t\t  if (err) {\n\t\t\t\tconsole.log(\"合成海报出错了：\", err);\n\t\t\t\tvar ev = {\n\t\t\t\t  tips: '合成海报出错了!',\n\t\t\t\t  err : err\n\t\t\t\t}\n\t\t\t\tself.$emit('fail', ev);\n\t\t\t\treturn;\n\t\t\t  }\n\t\t\t  var ev = {\n\t\t\t\ttips : '海报合成成功!',\n\t\t\t\tres : res\n\t\t\t  }\n\t\t\t  self.$emit('success', ev);\n\t\t  });\n\t\t  //end 合成\n\t  // },250);\n    }\t\n}\n</script>\n\n<style scoped>\n.myCanvas{\n position: fixed;\n  left: 100%;\n  top: 100%;\n  z-index: -3;\n  transform: translateX(200%);\n  -webkit-transform: translateX(200%);\n}\n</style>","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=17a54696&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=17a54696&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663604987544\n      var cssReload = require(\"D:/程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}