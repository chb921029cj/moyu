{"version":3,"sources":["uni-app:///main.js","webpack:///D:/uniapp/魔域/pages/form/index.vue?4910","webpack:///D:/uniapp/魔域/pages/form/index.vue?2400","webpack:///D:/uniapp/魔域/pages/form/index.vue?5586","webpack:///D:/uniapp/魔域/pages/form/index.vue?ac36","uni-app:///pages/form/index.vue","webpack:///D:/uniapp/魔域/pages/form/index.vue?0569","webpack:///D:/uniapp/魔域/pages/form/index.vue?847b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/form/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/form/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7bc45580&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/form/index.vue\"\nexport default component.exports","export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7bc45580&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-gradual-pink\" :isBack=\"true\">\r\n\t\t\t<block slot=\"backText\">返回</block>\r\n\t\t\t<block slot=\"content\">表单</block>\r\n\t\t</cu-custom>\r\n\t\t<form class=\"margin-bottom\">\r\n\t\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t\t<view class=\"title\">编号</view>\r\n\t\t\t\t<input placeholder=\"请输入编号\" name=\"input\" v-model=\"goods.vId\" />\r\n\t\t\t</view>\r\n\t\t\t<!-- !!!!! placeholder 在ios表现有偏移 建议使用 第一种样式 -->\r\n\t\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t\t<textarea maxlength=\"-1\" :disabled=\"modalName!=null\" @input=\"textareaAInput\" placeholder=\"备注\"\r\n\t\t\t\t\tv-model=\"goods.vMark1\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t头像上传\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"grid col-4 grid-square flex-sub\">\r\n\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item,index) in vHead\" :key=\"index\" @tap=\"ViewVheadImage\"\r\n\t\t\t\t\t\t:data-url=\"vHead[index]\">\r\n\t\t\t\t\t\t<image :src=\"vHead[index]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"DelVheadImg\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t<text class='cuIcon-close'></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"solids\" @tap=\"ChooseVheadImage\" v-if=\"vHead.length<1\">\r\n\t\t\t\t\t\t<text class='cuIcon-cameraadd'></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-bar bg-white margin-top\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t照片墙\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t{{imgList.length}}/9\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"grid col-4 grid-square flex-sub\">\r\n\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item,index) in imgList\" :key=\"index\" @tap=\"ViewImage\"\r\n\t\t\t\t\t\t:data-url=\"imgList[index]\">\r\n\t\t\t\t\t\t<image :src=\"imgList[index]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"DelImg\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t<text class='cuIcon-close'></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"solids\" @tap=\"ChooseImage\" v-if=\"imgList.length<9\">\r\n\t\t\t\t\t\t<text class='cuIcon-cameraadd'></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">区服</view>\r\n\t\t\t\t<picker mode=\"multiSelector\" @change=\"MultiChange\" @columnchange=\"MultiColumnChange\" :value=\"multiIndex\"\r\n\t\t\t\t\t:range=\"multiArray\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{multiArray[0][multiIndex[0]]}}，{{multiArray[1][multiIndex[1]]}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">是否区老大</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nIsLd')\" :class=\"goods.nIsLd?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nIsLd?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">是否前十</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nIsQs')\" :class=\"goods.nIsQs?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nIsQs?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">是否新区</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nIsXq')\" :class=\"goods.nIsXq?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nIsXq?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group \">\r\n\t\t\t\t<view class=\"title\">是否高战</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nIsGz')\" :class=\"goods.nIsGz?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nIsGz?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group \">\r\n\t\t\t\t<view class=\"title\">是否推荐</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nTuiJ')\" :class=\"goods.nTuiJ?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nTuiJ?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group \">\r\n\t\t\t\t<view class=\"title\">是否下架</view>\r\n\t\t\t\t<switch @change=\"handleSwitch('nStates')\" :class=\"goods.nStates?'checked':''\"\r\n\t\t\t\t\t:checked=\"goods.nStates?true:false\">\r\n\t\t\t\t</switch>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">职业</view>\r\n\t\t\t\t<picker @change=\"PickervZhiYChange\" :value=\"vZhiYindex\" :range=\"vZhiYpicker\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{vZhiYindex>-1?vZhiYpicker[vZhiYindex]:'请选择职业'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">线路状态</view>\r\n\t\t\t\t<picker @change=\"PickervMark2Change\" :value=\"vMark2index\" :range=\"vMark2picker\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{vMark2index>-1?vMark2picker[vMark2index]:'请选择线路状态'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">性别</view>\r\n\t\t\t\t<picker @change=\"PickervGENDERChange\" :value=\"vGENDERindex\" :range=\"vGENDERpicker\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{vGENDERindex>-1?vGENDERpicker[vGENDERindex]:'请选择性别'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">现价</view>\r\n\t\t\t\t<input placeholder=\"请输入现价\" name=\"input\" v-model=\"goods.nPriceN\" type=\"number\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">原价</view>\r\n\t\t\t\t<input placeholder=\"请输入原价\" name=\"input\" v-model=\"goods.nPriceO\" type=\"number\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">神火</view>\r\n\t\t\t\t<input placeholder=\"请输入神火\" name=\"input\" v-model=\"goods.nShenH\" type=\"number\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">秒伤</view>\r\n\t\t\t\t<input placeholder=\"请输入秒伤\" name=\"input\" v-model=\"goods.nMiaoS\" type=\"number\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">属性</view>\r\n\t\t\t\t<input placeholder=\"请输入属性\" name=\"input\" v-model=\"goods.vShuX\"  />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">封魔</view>\r\n\t\t\t\t<input placeholder=\"请输入封魔\" name=\"input\" v-model=\"goods.nFengM\" type=\"number\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">名人堂</view>\r\n\t\t\t\t<input placeholder=\"请输入名人堂\" name=\"input\" v-model=\"goods.vMingRT\"  />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">战斗力</view>\r\n\t\t\t\t<input placeholder=\"请输入战斗力\" name=\"input\" v-model=\"goods.vZhuangB\" type=\"number\" />\r\n\t\t\t</view>\r\n\r\n\t\t</form>\r\n\t\t<view class=\"padding-xl\">\r\n\t\t\t<button class=\"cu-btn block bg-black margin-tb-sm lg\" @click=\"submit\"> 提交</button>\r\n\t\t</view>\r\n\t\t<!-- \t\t<canvas class=\"canvas\" canvas-id=\"attendCanvasId\" id=\"attendCanvasId\"\r\n\t\t\tstyle=\"border: 1px solid; background: #123456;\"></canvas> -->\r\n\t\t<!-- \t<canvas canvas-id=\"attendCanvasId\" id=\"attendCanvasId\" style=\"border: 1px solid; background: #123456;\"\r\n\t\t\t:style=\"'width: '+popWidth*devicePixelRatio+'px;height: '+canvasHeight*devicePixelRatio+'px;transform:scale('+1/devicePixelRatio+'); transform-origin: 0px 0px;position: fixed;opacity: 0;top: -'+canvasHeight+100+'px;'\"></canvas>\r\n -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tbase64ToPath\r\n\t} from '@/utils/image-tools'\r\n\r\n\timport {\r\n\t\tupng\r\n\t} from '@/utils/upng.js'\r\n\timport {\r\n\t\tqiniuyun,\r\n\t\taddList,\r\n\t\tupdateList\r\n\t} from '@/api/user';\r\n\timport {\r\n\t\tVQUFU,\r\n\t\tVZHIYE,\r\n\t\tvGENDER\r\n\t} from '@/utils/moyu.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\tvId: '',\r\n\t\t\t\t\tnIsLd: '',\r\n\t\t\t\t\tnIsQs: '',\r\n\t\t\t\t\tnIsXq: '',\r\n\t\t\t\t\tnIsGz: '',\r\n\t\t\t\t\tvZhiY: '',\r\n\t\t\t\t\tvXingB: '',\r\n\t\t\t\t\tnShenH: '',\r\n\t\t\t\t\tnMiaoS: '',\r\n\t\t\t\t\tvShuX: '',\r\n\t\t\t\t\tnFengM: '',\r\n\t\t\t\t\tvMingRT: '',\r\n\t\t\t\t\tvZhuangB: '',\r\n\t\t\t\t\tvMark2: '',\r\n\t\t\t\t\tnTuiJ: '',\r\n\t\t\t\t\tnPriceN: '',\r\n\t\t\t\t\tnPriceO: '',\r\n\t\t\t\t\tvPics: '',\r\n\t\t\t\t\tvMark1: '',\r\n\t\t\t\t\tnStates: ''\r\n\t\t\t\t},\r\n\t\t\t\tvHead: [],\r\n\t\t\t\tvZhiYindex: 0,\r\n\t\t\t\tvZhiYpicker: [],\r\n\t\t\t\tvGENDERindex: 0,\r\n\t\t\t\tvGENDERpicker: [],\r\n\t\t\t\tvMark2index: 2,\r\n\t\t\t\tvMark2picker: ['红线', '黄线', '绿线'],\r\n\t\t\t\tindex: -1,\r\n\t\t\t\tpicker: ['喵喵喵', '汪汪汪', '哼唧哼唧'],\r\n\t\t\t\tmultiArray: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t],\r\n\t\t\t\tobjectMultiArray: [\r\n\t\t\t\t\t[{\r\n\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\tname: '无脊柱动物'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '脊柱动物'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[{\r\n\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\tname: '扁性动物'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '线形动物'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '环节动物'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\t\tname: '软体动物'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\t\tname: '节肢动物'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[{\r\n\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\tname: '猪肉绦虫'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '吸血虫'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t],\r\n\t\t\t\tmultiIndex: [0, 0],\r\n\t\t\t\ttime: '12:01',\r\n\t\t\t\tdate: '2018-12-25',\r\n\t\t\t\tregion: ['广东省', '广州市', '海珠区'],\r\n\t\t\t\tswitchA: false,\r\n\t\t\t\tswitchB: true,\r\n\t\t\t\tswitchC: false,\r\n\t\t\t\tswitchD: false,\r\n\t\t\t\tradio: 'A',\r\n\t\t\t\tcheckbox: [{\r\n\t\t\t\t\tvalue: 'A',\r\n\t\t\t\t\tchecked: true\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'B',\r\n\t\t\t\t\tchecked: true\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'C',\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}],\r\n\t\t\t\timgList: [],\r\n\t\t\t\tmodalName: null,\r\n\t\t\t\ttextareaAValue: '',\r\n\t\t\t\ttextareaBValue: '',\r\n\t\t\t\tarr: ['nIsLd', 'nIsQs', 'nIsXq', 'nIsGz', 'nTuiJ', 'nStates'],\r\n\t\t\t\tmaterialList: [],\r\n\t\t\t\tdevicePixelRatio: 1,\r\n\t\t\t\tcanvasHeight: 300,\r\n\t\t\t\tpopWidth: 1\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tlet that = this\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tthat.popWidth = res.windowWidth;\r\n\t\t\t\t\t// 设备像素比大于1\r\n\t\t\t\t\tif (res.devicePixelRatio > 1) {\r\n\t\t\t\t\t\tthat.devicePixelRatio = res.devicePixelRatio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(that.popWidth, that.devicePixelRatio)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tVQUFU.forEach(item => {\r\n\t\t\t\tthis.multiArray[0].push(item.value)\r\n\t\t\t})\r\n\t\t\tVQUFU[this.multiIndex[1]].children.forEach(item => {\r\n\t\t\t\tthis.multiArray[1].push(item.value)\r\n\t\t\t})\r\n\t\t\tVZHIYE.forEach(item => {\r\n\t\t\t\tthis.vZhiYpicker.push(item.value)\r\n\t\t\t})\r\n\t\t\tvGENDER.forEach(item => {\r\n\t\t\t\tthis.vGENDERpicker.push(item.value)\r\n\t\t\t})\r\n\t\t\tif (option.good) {\r\n\t\t\t\tthis.goods = JSON.parse(decodeURIComponent(option.good))\r\n\t\t\t\tif (this.goods) {\r\n\t\t\t\t\tconsole.log(this.goods)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis.imgList = this.goods.vPics\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis.vHead.push(this.goods.vHead)\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet vQuF = this.goods.vQuF\r\n\t\t\t\t\t\tlet index = VQUFU.findIndex(item => item.value === vQuF[0])\r\n\t\t\t\t\t\tthis.multiIndex[0] = index\r\n\t\t\t\t\t\tthis.multiArray[1] = []\r\n\t\t\t\t\t\tVQUFU[index].children.forEach(item => {\r\n\t\t\t\t\t\t\tthis.multiArray[1].push(item.value)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\tlet index2 = VQUFU[index].children.findIndex(item => item.value === vQuF[1])\r\n\t\t\t\t\t\tthis.multiIndex[1] = index2\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet index = this.vZhiYpicker.findIndex(item => item === this.goods.vZhiY)\r\n\t\t\t\t\t\tthis.vZhiYindex = index\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet index = this.vGENDERpicker.findIndex(item => item === this.goods.vXingB)\r\n\t\t\t\t\t\tthis.vGENDERindex = index\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet index = this.vMark2picker.findIndex(item => item === this.goods.vMark2)\r\n\t\t\t\t\t\tthis.vMark2index = index\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.arr.forEach((key) => {\r\n\t\t\t\t\t\tif (this.goods[key] && this.goods[key] === 1) {\r\n\t\t\t\t\t\t\tthis.goods[key] = true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.goods[key] = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSwitch(key) {\r\n\t\t\t\tif (this.goods[key]) {\r\n\t\t\t\t\tthis.goods[key] = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.goods[key] = true\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.goods)\r\n\t\t\t},\r\n\t\t\tPickerChange(e) {\r\n\t\t\t\tthis.index = e.detail.value\r\n\t\t\t},\r\n\t\t\tPickervZhiYChange(e) {\r\n\t\t\t\tthis.vZhiYindex = e.detail.value\r\n\t\t\t},\r\n\t\t\tPickervGENDERChange(e) {\r\n\t\t\t\tthis.vGENDERindex = e.detail.value\r\n\t\t\t},\r\n\t\t\tPickervMark2Change(e) {\r\n\t\t\t\tthis.vMark2index = e.detail.value\r\n\t\t\t},\r\n\t\t\tMultiChange(e) {\r\n\t\t\t\tthis.multiIndex = e.detail.value\r\n\t\t\t},\r\n\t\t\tMultiColumnChange(e) {\r\n\t\t\t\tif (e.detail.column === 0) {\r\n\t\t\t\t\tthis.multiIndex[1] = 0\r\n\t\t\t\t\tthis.multiArray[1] = []\r\n\t\t\t\t\tVQUFU[e.detail.value].children.forEach(item => {\r\n\t\t\t\t\t\tthis.multiArray[1].push(item.value)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\tTimeChange(e) {\r\n\t\t\t\tthis.time = e.detail.value\r\n\t\t\t},\r\n\t\t\tDateChange(e) {\r\n\t\t\t\tthis.date = e.detail.value\r\n\t\t\t},\r\n\t\t\tRegionChange(e) {\r\n\t\t\t\tthis.region = e.detail.value\r\n\t\t\t},\r\n\t\t\tSwitchA(e) {\r\n\t\t\t\tthis.switchA = e.detail.value\r\n\t\t\t},\r\n\t\t\tSwitchB(e) {\r\n\t\t\t\tthis.switchB = e.detail.value\r\n\t\t\t},\r\n\t\t\tSwitchC(e) {\r\n\t\t\t\tthis.switchC = e.detail.value\r\n\t\t\t},\r\n\t\t\tSwitchD(e) {\r\n\t\t\t\tthis.switchD = e.detail.value\r\n\t\t\t},\r\n\t\t\tRadioChange(e) {\r\n\t\t\t\tthis.radio = e.detail.value\r\n\t\t\t},\r\n\t\t\tCheckboxChange(e) {\r\n\t\t\t\tvar items = this.checkbox,\r\n\t\t\t\t\tvalues = e.detail.value;\r\n\t\t\t\tfor (var i = 0, lenI = items.length; i < lenI; ++i) {\r\n\t\t\t\t\titems[i].checked = false;\r\n\t\t\t\t\tfor (var j = 0, lenJ = values.length; j < lenJ; ++j) {\r\n\t\t\t\t\t\tif (items[i].value == values[j]) {\r\n\t\t\t\t\t\t\titems[i].checked = true;\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tChooseVheadImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1, //默认9\r\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (this.vHead.length != 0) {\r\n\t\t\t\t\t\t\tthis.vHead = this.vHead.concat(res.tempFilePaths)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.vHead = res.tempFilePaths\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tChooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 4, //默认9\r\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (this.imgList.length != 0) {\r\n\t\t\t\t\t\t\tthis.imgList = this.imgList.concat(res.tempFilePaths)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.imgList = res.tempFilePaths\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tViewVheadImage(e) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: this.vHead,\r\n\t\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tDelVheadImg(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '召唤师',\r\n\t\t\t\t\tcontent: '确定要删除这段回忆吗？',\r\n\t\t\t\t\tcancelText: '再看看',\r\n\t\t\t\t\tconfirmText: '再见',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.vHead.splice(e.currentTarget.dataset.index, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tViewImage(e) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: this.imgList,\r\n\t\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tDelImg(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '召唤师',\r\n\t\t\t\t\tcontent: '确定要删除这段回忆吗？',\r\n\t\t\t\t\tcancelText: '再看看',\r\n\t\t\t\t\tconfirmText: '再见',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttextareaAInput(e) {\r\n\t\t\t\tthis.textareaAValue = e.detail.value\r\n\t\t\t},\r\n\t\t\ttextareaBInput(e) {\r\n\t\t\t\tthis.textareaBValue = e.detail.value\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (!this.vHead.length || !this.imgList.length || !this.goods.vId) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请补全相关图片等信息',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '提交中...'\r\n\t\t\t\t});\r\n\t\t\t\tthis.materialList = []\r\n\t\t\t\tlet all = this.vHead.concat(this.imgList)\r\n\t\t\t\tconsole.log(all)\r\n\t\t\t\tthis.weixin_img(0, all, false)\r\n\r\n\t\t\t},\r\n\t\t\tasync handleSubmit() {\r\n\t\t\t\tlet params = JSON.parse(JSON.stringify(this.goods))\r\n\t\t\t\tthis.arr.forEach((key) => {\r\n\t\t\t\t\tif (params[key]) {\r\n\t\t\t\t\t\tparams[key] = 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tparams[key] = 2\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t//\r\n\t\t\t\tparams.vQuF = JSON.stringify([this.multiArray[0][this.multiIndex[0]], this.multiArray[1][this\r\n\t\t\t\t\t.multiIndex[\r\n\t\t\t\t\t\t1]\r\n\t\t\t\t]])\r\n\t\t\t\tparams.vXingB = this.vGENDERpicker[this.vGENDERindex]\r\n\t\t\t\tparams.vZhiY = this.vZhiYpicker[this.vZhiYindex]\r\n\t\t\t\tparams.vMark2 = this.vMark2picker[this.vMark2index]\r\n\t\t\t\tparams.vHead = this.materialList[0]\r\n\t\t\t\tparams.vPics = JSON.stringify(this.materialList.slice(1))\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet result = ''\r\n\t\t\t\t\tif (params.dCTime) {\r\n\t\t\t\t\t\tdelete params.nShouC\r\n\t\t\t\t\t\tdelete params.dCTime\r\n\t\t\t\t\t\tdelete params.nLiuL\r\n\t\t\t\t\t\tdelete params.vId\r\n\t\t\t\t\t\tresult = await updateList(params)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresult = await addList(params)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (result && result.code === \"000000\") {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"提交成功\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络异常 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tchooseImage() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tcount: 9, //默认9\r\n\t\t\t\t\tsuccess: (rem) => {\r\n\t\t\t\t\t\tthat.tempFilePaths = rem.tempFilePaths;\r\n\t\t\t\t\t\tthat.weixin_img(0, rem, true)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync weixin_img(num, rem, type = true) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (rem[num].includes('https')) {\r\n\t\t\t\t\tthis.materialList.push(rem[num]);\r\n\t\t\t\t\tif (num == rem.length - 1) {\r\n\t\t\t\t\t\tthis.handleSubmit()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.weixin_img(num + 1, rem, type)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\tuni.getImageInfo({ //获取这个图片 图片压缩\r\n\t\t\t\t\t\t\tsrc: rem[num], //需要获取的图片 图片选择不用我说了吧\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log('uni.getImageInfo', res)\r\n\t\t\t\t\t\t\t\tvar ctx = uni.createCanvasContext('attendCanvasId', that); //使用一个canvas\r\n\t\t\t\t\t\t\t\t// console.log(ctx)\r\n\t\t\t\t\t\t\t\tvar canvasWidth = res.width //原图宽度 \r\n\t\t\t\t\t\t\t\tvar canvasHeight = res.height; //原图高度\r\n\t\t\t\t\t\t\t\tvar ratio = 2;\r\n\t\t\t\t\t\t\t\tconsole.log(canvasWidth, canvasHeight)\r\n\t\t\t\t\t\t\t\t// 保证宽高均在200以内\r\n\t\t\t\t\t\t\t\twhile (canvasWidth > 200 || canvasHeight > 200) {\r\n\t\t\t\t\t\t\t\t\t//比例取整\r\n\t\t\t\t\t\t\t\t\tcanvasWidth = Math.trunc(res.width / ratio)\r\n\t\t\t\t\t\t\t\t\tcanvasHeight = Math.trunc(res.height / ratio)\r\n\t\t\t\t\t\t\t\t\tratio++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//绘制新图\r\n\t\t\t\t\t\t\t\tctx.fillRect(0, 0, 300 * that.devicePixelRatio, 150 * that\r\n\t\t\t\t\t\t\t\t\t.devicePixelRatio)\r\n\t\t\t\t\t\t\t\tctx.drawImage(rem[num], 0, 0, canvasWidth * that.devicePixelRatio,\r\n\t\t\t\t\t\t\t\t\tcanvasHeight * that.devicePixelRatio)\r\n\t\t\t\t\t\t\t\t// ctx.draw()\r\n\t\t\t\t\t\t\t\t// Create linear gradient\r\n\t\t\t\t\t\t\t\tctx.draw(false, () => {\r\n\t\t\t\t\t\t\t\t\t//获取图像数据， API 1.9.0\r\n\t\t\t\t\t\t\t\t\tuni.canvasGetImageData({\r\n\t\t\t\t\t\t\t\t\t\tcanvasId: 'attendCanvasId',\r\n\t\t\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\t\t\twidth: canvasWidth * that.devicePixelRatio,\r\n\t\t\t\t\t\t\t\t\t\theight: canvasHeight * that.devicePixelRatio,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\tlet platform = uni.getSystemInfoSync()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.platform\r\n\t\t\t\t\t\t\t\t\t\t\tif (platform == 'ios') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 兼容处理：ios获取的图片上下颠倒\r\n\t\t\t\t\t\t\t\t\t\t\t\tres = that.reverseImgData(res)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// 3. png编码\r\n\t\t\t\t\t\t\t\t\t\t\tlet pngData = upng.encode([res.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.buffer\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tcanvasWidth, canvasHeight)\r\n\t\t\t\t\t\t\t\t\t\t\t// 4. base64编码\r\n\t\t\t\t\t\t\t\t\t\t\tlet base64 = uni.arrayBufferToBase64(\r\n\t\t\t\t\t\t\t\t\t\t\t\tpngData)\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log('1111','data:image/jpeg;base64,'+base64)\r\n\t\t\t\t\t\t\t\t\t\t\t// rem[num].Base64_Path = 'data:image/jpeg;base64,' +base64\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tlet result = await that.putb64(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'data:image/jpeg;base64,' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tbase64)\r\n\t\t\t\t\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.materialList.push(result);\r\n\t\t\t\t\t\t\t\t\t\t\t\t//利用递归循环来实现多张图片压缩\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (num == rem.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.handleSubmit()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.weixin_img(num + 1, rem, )\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '网络异常 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}, that)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet result = await this.putb64(rem[num], true)\r\n\r\n\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\tthat.materialList.push(result);\r\n\t\t\t\t\t\t\t//利用递归循环来实现多张图片压缩\r\n\t\t\t\t\t\t\tif (num == rem.length - 1) {\r\n\t\t\t\t\t\t\t\tthat.handleSubmit()\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.weixin_img(num + 1, rem, type)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '网络异常 请重新登录再试 或联系管理员',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 兼容处理：ios获取的图片上下颠倒\r\n\t\t\treverseImgData(res) {\r\n\t\t\t\tvar w = res.width\r\n\t\t\t\tvar h = res.height\r\n\t\t\t\tlet con = 0\r\n\t\t\t\tfor (var i = 0; i < h / 2; i++) {\r\n\t\t\t\t\tfor (var j = 0; j < w * 4; j++) {\r\n\t\t\t\t\t\tcon = res.data[i * w * 4 + j]\r\n\t\t\t\t\t\tres.data[i * w * 4 + j] = res.data[(h - i - 1) * w * 4 + j]\r\n\t\t\t\t\t\tres.data[(h - i - 1) * w * 4 + j] = con\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn res\r\n\t\t\t},\r\n\t\t\tasync putb64(pic, isPath = false) {\r\n\r\n\t\t\t\treturn new Promise(async (resolve) => {\r\n\t\t\t\t\tlet result = await qiniuyun()\r\n\t\t\t\t\tlet filePath = null\r\n\t\t\t\t\tif (isPath) {\r\n\t\t\t\t\t\tfilePath = pic\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfilePath = await base64ToPath(pic)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//下面的key是自己拿时间戳和随机数组成的key值\r\n\t\t\t\t\tconsole.log('base64ToPath(pic)', filePath)\r\n\t\t\t\t\tlet key = new Date().getTime();\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: \"https://up-z2.qiniup.com\", //华东地区上传\r\n\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t'key': key, //key值\r\n\t\t\t\t\t\t\t'token': result //七牛云token值\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: uploadFileRes => {\r\n\t\t\t\t\t\t\t//uploadFileRes 返回了data是一个json字符串 \r\n\t\t\t\t\t\t\t//拿到里面的key拼接上域名，再反出去就ok了\r\n\t\t\t\t\t\t\tlet strToObj = JSON.parse(uploadFileRes.data)\r\n\t\t\t\t\t\t\tif (strToObj.key) {\r\n\t\t\t\t\t\t\t\tlet backUrl = 'https://www.guoxyu.top/' + strToObj.key;\r\n\t\t\t\t\t\t\t\t// data.success(backUrl); //反出去链接\r\n\t\t\t\t\t\t\t\tconsole.log(uploadFileRes)\r\n\t\t\t\t\t\t\t\tresolve(backUrl)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: fail => {\r\n\t\t\t\t\t\t\tconsole.log(fail)\r\n\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.cu-form-group .title {\r\n\t\tmin-width: calc(4em + 15px);\r\n\t}\r\n</style>\n","import mod from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../程序/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663604985894\n      var cssReload = require(\"D:/程序/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}